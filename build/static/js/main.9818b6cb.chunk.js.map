{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Persons.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","obj","put","delete","PersonForm","props","name","setNewName","number","setNewNumber","addPerson","value","onChange","e","target","type","onClick","Persons","result","deletePerson","map","persona","key","Filter","search","setSearch","Notification","message","text","notificationStyle","color","tipo","background","borderStyle","borderRadius","fontSize","padding","paddingLeft","marginBottom","width","style","App","useState","personas","setPersonas","setMessage","useEffect","personService","persons","showMessage","setTimeout","filter","toLocaleLowerCase","includes","event","preventDefault","newArray","phoneArray","existName","indexOf","window","confirm","person","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9818b6cb.chunk.js","sourcesContent":["import axios from 'axios'\r\n// const baseUrl = \"http://localhost:3001/api/persons\"\r\n// const baseUrl = \"https://apiphonebook.herokuapp.com/api/persons\"\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, obj) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, obj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst eliminar = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, eliminar }","const PersonForm = (props) => {\r\n    const {name, setNewName, number, setNewNumber, addPerson} = props;\r\n\r\n    return (\r\n      <form >\r\n        <div>\r\n          Name: <input name=\"name\"\r\n                  value={name}\r\n                  onChange={(e) => setNewName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          Number: <input name=\"number\" \r\n                  value={number}\r\n                  onChange={(e) => setNewNumber(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" onClick={addPerson}>Add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  export default PersonForm;","const Persons = (props) => {\r\n\r\n    const {result, deletePerson} = props\r\n    return (\r\n      <ul>\r\n        {result.map((persona, key) => \r\n            <li key={key}>{persona.name} {persona.number} \r\n            <button \r\n              onClick={() => deletePerson(persona.id)}\r\n            >Delete</button></li>)}\r\n      </ul>\r\n    )\r\n  }\r\n\r\n  export default Persons;","const Filter = ({search, setSearch}) => {\r\n    return (\r\n        <>\r\n        Filter shown with: <input name=\"search\" \r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}         \r\n            />\r\n        </>\r\n      )\r\n}\r\n \r\nexport default Filter;","const Notification = ({message}) => {\r\n\r\n    const {text, tipo} = message;\r\n\r\n    const notificationStyle = {\r\n        color: tipo,\r\n        background: 'lightgray',\r\n        borderStyle: 'solid',\r\n        borderRadius: 15,\r\n        fontSize: 16,\r\n        padding: 10,\r\n        paddingLeft: 30,\r\n        marginBottom: 15,\r\n        width: 350\r\n    }\r\n\r\n    return ( \r\n        <div style={notificationStyle}>\r\n            {text}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [personas, setPersonas] = useState([])\n  const [name, setNewName] = useState('')\n  const [number, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [message, setMessage] = useState({text: '', tipo: 'green'})\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersonas(persons)\n      })\n  }, [])\n\n  const showMessage = (message, tipo) => {\n    setMessage({'text': message, tipo})\n    setTimeout(() => {\n      setMessage('')\n    }, 2000);\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newArray = personas.map(persona => persona.name)\n    const phoneArray = personas.map(persona => persona.number)\n    const existName = newArray.indexOf(name)\n\n    if(newArray.indexOf(name) >= 0) {\n      const id = personas[existName].id\n      if(phoneArray.indexOf(number) >= 0){\n        //alert(`${name} and ${number} is already added to phonebook`);\n        showMessage(`${name} and ${number} is already added to phonebook`, \"blue\")\n        return;\n      } else {\n        if (!window.confirm(`${name} is already added to phonebook, \\nreplace the old number with a new one?`)) {\n          return;\n        }\n\n        personService\n          .update(id, {name, number})\n          .then(person => {\n            setPersonas(personas.map(persona => persona.id === id ? person : persona))\n            setNewName('')\n            setNewNumber('')\n            showMessage(\"Contacto actualizado.\")\n          })\n          .catch(error => {\n            setPersonas(personas.filter(persona => persona.id !== id))\n            showMessage(`Error: ${error.response.data.error}`)\n          })\n\n        return;\n      }\n    }\n\n    personService\n      .create({name, number})\n      .then(person => {\n        setPersonas(personas.concat(person))\n        setNewName('')\n        setNewNumber('')\n        showMessage(\"Nueva contacta adicionado.\", \"green\")\n      })\n      .catch(error => {\n        showMessage(`Error: ${error.response.data.error}`)\n      })\n  }\n\n  const deletePerson = id => {\n    if (window.confirm(\"Realmente desea eliminar este registro?\")) {\n        personService\n          .eliminar(id)\n          .then(persons => {\n            setPersonas(personas.filter(persona => persona.id !== id))\n            showMessage(\"Contacto eliminado.\", \"green\")\n          })\n          .catch(error => {\n            setPersonas(personas.filter(persona => persona.id !== id))\n            showMessage(`Error: ${error.response.data.error}`, \"red\")\n          })\n    }\n  }\n\n  const result = search \n  ? personas.filter((persona) => persona.name.toLocaleLowerCase().includes(search.toLocaleLowerCase()))\n  : personas\n\n  return (\n    <>\n      <h2>Phonebook</h2>\n      {message.text ? <Notification message={message} /> : \"\"}\n      <Filter \n        search={search} \n        setSearch={setSearch}\n      />\n        \n      <h2>Add a new</h2>\n\n      <PersonForm \n        name={name}\n        setNewName={setNewName}\n        number={number}\n        setNewNumber={setNewNumber}\n        addPerson={addPerson}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons \n        result={result}\n        deletePerson={deletePerson}\n      />\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}